"0",""
"0","#############################################################"
"0","#functions to load and process fastspar correlation matrices#"
"0","#############################################################"
"0","load_mat <- function(path_string){"
"0","  result_df <- read_tsv(path_string, col_names = TRUE, show_col_types = FALSE) %>% as.data.frame() #setting rownames on tibble is depreciated"
"0","  row.names(result_df) <- result_df$`#OTU ID`"
"0","  result_df <- result_df[,-1]"
"0","  output <- data.matrix(result_df)"
"0","  return(output)"
"0","}"
"0",""
"0",""
"0","#Removes duplicates by taking lower triangle of corr and p value matrix from fastspar results, get corr coeff and p vals. Inputs are two matrices"
"0","get_edges_fn <- function(corr_mat, corr_pval){"
"0","  df_corr <- melt(replace(corr_mat, lower.tri(corr_mat, TRUE), NA), na.rm = TRUE) %>% dplyr::rename(corr_coeff=value)"
"0","  df_pval <- melt(replace(corr_pval, lower.tri(corr_pval, TRUE), NA), na.rm = TRUE)%>% dplyr::rename(pval=value)"
"0","  output <- merge(df_corr, df_pval, by = c(""Var1"", ""Var2"") )"
"0","  return(output)"
"0","}"
"0",""
